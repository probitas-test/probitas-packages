export const snapshot = {};

snapshot[`after onRunStart 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (1) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (3) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onRunEnd 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"runEnd","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}],"result":{"total":3,"passed":3,"failed":0,"skipped":0,"duration":45,"scenarios":[{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]},{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]},{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}]}}
'
`;

snapshot[`after onRunStart 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (1) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onScenarioStart - Scenario with failing step (2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (2-1) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (2-1) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onStepStart - Step that fails (2-2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that fails (2-2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
'
`;

snapshot[`after onScenarioEnd - Scenario with failing step (2) 1`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (3) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onRunEnd 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"runEnd","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}],"result":{"total":3,"passed":2,"failed":1,"skipped":0,"duration":35,"scenarios":[{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]},{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}},{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}]}}
'
`;

snapshot[`after onRunStart 3`] = `
'{"type":"runStart","scenarios":[]}
'
`;

snapshot[`after onRunEnd 3`] = `
'{"type":"runStart","scenarios":[]}
{"type":"runEnd","scenarios":[],"result":{"total":0,"passed":0,"failed":0,"skipped":0,"duration":0,"scenarios":[]}}
'
`;

snapshot[`after onRunStart 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (1) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (3) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 3`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onRunEnd 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"runEnd","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}],"result":{"total":3,"passed":3,"failed":0,"skipped":0,"duration":45,"scenarios":[{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]},{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]},{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}]}}
'
`;

snapshot[`after onRunStart 5`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (1) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (1) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (1) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (1) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onScenarioStart - Scenario with failing step (2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (2-1) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (2-1) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onStepStart - Step that fails (2-2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that fails (2-2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
'
`;

snapshot[`after onScenarioEnd - Scenario with failing step (2) 2`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
'
`;

snapshot[`after onScenarioStart - Simple passing scenario (3) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
'
`;

snapshot[`after onStepStart - Step that passes (3) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
'
`;

snapshot[`after onStepEnd - Step that passes (3) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
'
`;

snapshot[`after onScenarioEnd - Simple passing scenario (3) 4`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
'
`;

snapshot[`after onRunEnd 5`] = `
'{"type":"runStart","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}]}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"scenarioStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"stepStart","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}}
{"type":"scenarioEnd","scenario":{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}}}
{"type":"scenarioStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}}
{"type":"stepStart","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}}
{"type":"stepEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"step":{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},"result":{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}}
{"type":"scenarioEnd","scenario":{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},"result":{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}}
{"type":"runEnd","scenarios":[{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Scenario with failing step","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}},{"kind":"step","name":"Step that fails","origin":{"path":"test.scenario.ts","line":20},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]},{"name":"Simple passing scenario","tags":[],"origin":{"path":"test.scenario.ts","line":10},"steps":[{"kind":"step","name":"Step that passes","origin":{"path":"test.scenario.ts","line":15},"timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"}}]}],"result":{"total":3,"passed":2,"failed":1,"skipped":0,"duration":35,"scenarios":[{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]},{"metadata":{"name":"Scenario with failing step","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}}]},"status":"failed","duration":15,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10},{"metadata":{"kind":"step","name":"Step that fails","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":20}},"status":"failed","duration":5,"error":{}}],"error":{}},{"metadata":{"name":"Simple passing scenario","origin":{"path":"test.scenario.ts","line":10},"tags":[],"steps":[{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}}]},"status":"passed","duration":10,"steps":[{"metadata":{"kind":"step","name":"Step that passes","timeout":5000,"retry":{"maxAttempts":1,"backoff":"linear"},"origin":{"path":"test.scenario.ts","line":15}},"status":"passed","duration":10}]}]}}
'
`;

snapshot[`after onRunStart 6`] = `
'{"type":"runStart","scenarios":[]}
'
`;

snapshot[`after onRunEnd 6`] = `
'{"type":"runStart","scenarios":[]}
{"type":"runEnd","scenarios":[],"result":{"total":0,"passed":0,"failed":0,"skipped":0,"duration":0,"scenarios":[]}}
'
`;
